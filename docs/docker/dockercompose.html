<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>複数コンテナ管理（Docker Compose） - コンテナ勉強会</title>

        <!-- jQuery読み込み -->
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script type="text/javascript" src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>

        <!-- 各回ごとのJavaScriptファイル読み込み -->
        <script type="text/javascript" src="../sidebar.js"></script>

        <!-- 必要に応じてcssファイル読み込み -->
        <link rel="stylesheet" type="text/css" href="../style.css">
    </head>
    <body>
        <!-- ヘッダー -->
        <div class="header">
            <h1 id="page-title">複数コンテナ管理（Docker Compose）</h1>
        </div>

        <!-- サイドメニュー領域 -->
        <div class="side-menu">
            <p>サイドメニュー</p>
            <ul>
                <li class="contents1"><a href="../index.html">Home</a></li>
                <li class="has-child-menu"><a href="../container/what_is_container.html">コンテナとは</a>
                    <ul>
                        <li class="contents3-1"><a href="../container/container_structure.html">コンテナの構成</a></li>
                        <li class="contents3-2"><a href="../container/container_process.html">コンテナのプロセス</a></li>
                    </ul>
                </li>
                <li class="has-child-menu"><a href="./what_is_docker.html">Docker</a>
                    <ul>
                        <li class="contents3-1"><a href="./docker_files.html">Dockerの構成要素</a></li>
                        <li class="contents3-2"><a href="./docker_network.html">Dockerのネットワーク</a></li>
                        <li class="contents3-3"><a href="./dockercompose.html">複数コンテナ管理（Docker Compose）</a></li>
                    </ul>
                </li>
                <li class="contents3"><a href="../conclusion.html">おわりに</a></li>
            </ul>
            <div class="side-menu-button">サイドメニュー</div>
        </div>

        <!-- サイドメニュー表示時の他領域を隠す用 -->
        <div class="hide-contents"></div>

        <!-- メインコンテンツ -->
        <div class="main-contents">
            <div class="content">
                <h2>複数コンテナ管理（Docker Compose）</h2>
                <p>Docker Composeは，複数のコンテナを1つのYAML形式のファイルで定義して管理するツールである．一般的に，1つのコンテナにつき，1つのプロセスが内包されることが推奨されているが，扱うコンテナが増えるほど，それらを管理・運用する負担も増加していく．このようなケースにおいて，Docker Composeを用いることで，このような煩わしさを解消することができる．また，Docker composeで使用するコマンドは，Dockerのコマンドと似ているため，簡単に覚えられることも特徴の1つである．</p>
                <p>Docker Composeを利用しない場合は，各コンテナ一つ一つを，それぞれ細かく設定しなければならないが，Docker Composeを利用すれば，docker-compose.ymlを定義し、<code>$ docker-compose up</code>1つで複数コンテナを起動することができる．例えば，Webアプリケーションを立ち上げる場合，フロント・バックエンド，Webサーバ，DBなどの定義を，1つのdocker-compose.ymlファイルに記述することで，必要なコンテナ群をまとめて起動・設定でき，1つのサービスとして管理することができる．</p>

                <br><p>手順は以下の通りである．</p>
                <ol>
                    <li>Dockerfileの作成　あるいは　Docker Hubからイメージをダウンロード
                    <li>docker-compose.ymlを定義
                    <li>ymlファイルがあるディレクトリで，<code>$ docker-compose up</code>を実行する
                </ol>
                <br><h3>docker-compose.ymlの記述例</h3>
                <pre>
                    <code>
                        version: '1'
                        services:
                            wordpress:
                                image: wordpress
                                ports:
                                    - 8080:80
                                environment:
                                    WORDPRESS_DB_PASSWORD: xxxxx
                            mysql:
                                image: mongodb
                                environment:
                                    MYSQL_ROOT_PASSWORD: yyyyy
                    </code>
                </pre>
                <br><h3>Docker Composeのコマンド例</h3>
                <ul>
                    <li><code>$ docker-compose up -d</code>：コンテナ生成・起動</li>
                    <li><code>$ docker-compose ps</code>：コンテナの一覧</li>
                    <li><code>$ docker-compose logs</code>：コンテナログ</li>
                    <li><code>$ docker-compose stop</code>：コンテナの停止</li>
                    <li><code>$ docker-compose rm</code>：コンテナの削除</li>
                    <li><code>$ docker-compose down</code>：コンテナの停止・削除</li>
                </ul>
                <br><br><br><br><br>
            </div>
        </div>
    </body>
</html>